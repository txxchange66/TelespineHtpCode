/*
Last Updated: March 11, 2014 at 1:13:24 PM
Creative Slave - demo.creativeslave.com
*/
var App={history:[],user:{name:{first:"",last:""}},util:{support:{}},config:{components:{},services:{},errors:{}},settings:{},init:function(){App.console.log("Loading TeleSpine Application");$(".userName").html(App.user.name.first+" "+App.user.name.last);$("#OverlayBG").css("visibility","visible");if(App.isMobile()){App.user.startDate=App.user.startDate.replace(/-/,"/").replace(/-/,"/");App.user.lastLogin=App.user.lastLogin.replace(/-/,"/").replace(/-/,"/")}App.user.startDate=new Date(App.user.startDate);App.user.lastLogin=new Date(App.user.lastLogin);if(!App.user.startDate.getMonth()){App.user.startDate=new Date(Date.parse(App.user.startDate));App.user.lastLogin=new Date(Date.parse(App.user.lastLogin))}$("#loading").css("visibility","visible");App.load();App.checkUserFlow()},load:function(){var a=App.config.components.length;App.console.log("Loading App Components ("+a+")",2);var f=App.config;for(var i=0;i<a;i++){var b=App.config.components[i];App.console.log("App.load: Reading Component: "+b.id);try{if(!$.cookie(b.id+"_menu")){$.cookie(b.id+"_menu","open",{expires:7,path:"/"})}}catch(h){App.console.log(h)}try{if(b.active&&b.url!="void"){App.console.log(b,3);App.console.log(" > App.load: Loading Component: ("+b.id+") from "+b.url,3);$.ajax({type:"GET",url:b.url,async:false,contentType:"application/text",success:function(c){$("#col_"+b.column).append(c+'<div class="clearfix"></div>');try{if(b.onLoad!="void"){App[b.onLoad](b)}}catch(j){App.console.log("App.load: Error executing function ("+b.onLoad+"): "+j)}try{var e=($.cookie(b.id+"_menu")=="open");if(!e){$("#"+b.id+" div.box-content").slideUp()}}catch(j){App.console.log(j)}},error:function(e,c,j){App.console.log(" > > App.load: Ajax Error when invoking "+b.id+": "+e+"; "+c+"; "+j)}})}else{App.console.log(" > App.load: Skip load component: "+b.id,3);if(b.active&&b.url=="void"){App[b.onLoad]()}}}catch(d){App.console.log(" > > App.load: Ajax Outer Error when invoking "+b.id+": "+d.message)}}setTimeout(function(){$("#loading div").html("");$("#loading").animate({width:"10%",height:"10%","margin-left":"-5%",opacity:0},1000,"easeInOutBack");setTimeout(function(){$("#OverlayBG").animate({opacity:0},600,"easeInOutBack");setTimeout(function(){$("#loading").css("visibility","hidden");$("#OverlayBG").css("visibility","hidden")},500)},500)},300);try{}catch(g){}},getComponent:function(e){try{var a=App.config.components.length;for(var d=0;d<a;d++){App.console.log(" > > App.getComponent: "+App.config.components[d].id,4);if(App.config.components[d].id==e){return App.config.components[d]}}}catch(b){App.console.log(" > App.getComponent(): Error "+b);return null}},showHelp:function(a){App.console.log("function :: App.showHelp("+a+")");var b=[];b.painMeter="Current Pain Level Overview";b.functionalScore="Functional Score Overview";b.goalsAndStatistics="Goals and Statistics Overview";b.healthyHabits="Healthy Back Habits Overview";b.timelie="Timeline Overview";b.today="Today's Activities Overview";b.other="Overview";$("div.dialog-help").hide();$("#overviewTitle").html(b[a]);$("#dialog-"+a).show()},initServiceCall:function(a){App.console.log("service :: App.initServiceCall for "+a.name);$.ajax({type:"GET",url:a.url,data:a.data,async:false,contentType:"application/text",success:function(b){try{a.callback(b)}catch(c){console.warn('Error while making a service call with: "'+a.name+'": '+c)}},error:function(b){App.console.log(" > App.callService Ajax Error when invoking "+componentId+": "+b.message)}})},callService:function(a){App.console.log("service :: App.callService for "+a);var b=App;if(App.getComponent(a)){$.ajax({type:"GET",url:App.getComponent(a).service.url,async:false,contentType:"application/text",success:function(c){App.getComponent(a).service.callback(c)},error:function(c){App.console.log(" > App.callService Ajax Error when invoking "+a+": "+c.message)}})}},callServiceModule:function(a){App.console.log("App.callServiceModule >  for "+a.componentId);if(App.getComponent(a.componentId)){$.ajax({type:"GET",url:a.url,async:false,data:a.data,contentType:"application/text",success:function(b){a.callback(b)},error:function(b){App.console.log(" > Ajax Error when invoking "+a.componentId+": "+b.message)}})}},displayComponent:function(b,a){b.active=a;try{if(a){$("#"+b.id+"_comp").show()}else{$("#"+b.id+"_comp").hide()}}catch(c){App.console.log(c)}},isMobile:function(){return(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))},console:{log:function(a,c){try{if(App.settings.logging==true){if(c==null){if(console){console.log(a)}}else{if(c<=App.settings.loggingLevel){if(console){console.log(a)}}}}}catch(b){console.warn(b)}}},daysBetween:function(f,e){var b=Math.abs(f.getTimezoneOffset()/60)-Math.abs(e.getTimezoneOffset()/60);e.addHours(b);var g=1000*60*60*24;var d=f.getTime();var c=e.getTime();var a=Math.abs(d-c);return Math.round(a/g)},preference:function(b,c){var d="TelespinePrefs";var a={components:["weeklyTimeline:0","goalsAndStatistics:0","painMeter:0","functionalScore:0","onlineCoaching:0","messages:0","today:0"],theme:"default"};if(!c){}else{if(c.toLowerCase()=="delete"){}else{}}},hasHistory:function(a){return(App.history[a])},setHistory:function(a,b){App.history[a]=b},getHistory:function(a){return App.history[a]}};function ServiceCall(a){this.componentId=a;this.url="";this.name="";this.data={};this.callBack=function(b){}}function DomRenderer(a){this.componentId=a;this.data={};this.apply=function(b){}}App.openFirstTimeUser=function(a){App.console.log(" First Time User Message welcome screen.",2);$("#FirstTimeUser").modal({backdrop:"static",keyboard:false});$("#FirstTimeUser").on("hidden.bs.modal",function(b){App.console.log(" Closing First Time User Message welcome screen.",3);a()})};App.openFirstTimeResetPassword=function(b){App.console.log(" First Time User Reset Password.",2);if(App.user.password.status!="complete"){$("#ResetPassword").modal({backdrop:"static",keyboard:false});try{inForm.init("changePassword-form","fieldError",function(){try{$.ajax({type:"GET",url:App.user.resetPassword.service.url,async:false,data:{password:$("#newPassword").val()},contentType:"application/json",success:function(d){App.console.log(" Response: "+d);$("#ResetPassword").modal("hide");b()},error:function(d){App.console.log(" > Ajax Error when invoking password update: "+d.message)}})}catch(c){App.console.log(" > Set Password Error: "+c)}return false})}catch(a){}}else{b()}};App.openOswestery=function(b){App.console.log("\n****************\nOpen Oswestery - Oswestery",2);try{App.wizard.init("OswesteryWiz","OswesteryNextBtn","OswesteryPreviousBtn",function(){App.saveOswestery();b()})}catch(a){App.console.log(" Pain Level Error: "+a)}$("#OswesteryModal").modal({backdrop:"static",keyboard:false})};App.saveOswestery=function(){App.console.log("Save Oswestery!");var a=App.getComponent("functionalScore");inForm.setFormId("Oswestery-form");var c=inForm.getFormJSON();try{$.ajax({type:"GET",url:App.config.services.oswestery.url,async:false,data:c,contentType:"application/json",success:function(d){App.console.log(" Response: "+d,5);var e=d.split(",");App.console.log(" Oswestery resulting Functional Score: "+e,3);App.user.oswestery.scores.push(e);App.setFunctionalScore(a)},error:function(d){App.console.log(" > Ajax Error when invoking Oswestery: "+d.message)}})}catch(b){App.console.log(" > Save Oswestery Error: "+b)}$("#OswesteryModal").modal("hide");App.console.log("Close Oswestery!\n****************",2)};App.openR4CSurvey=function(b){App.console.log("\n****************\nOpen Ready for Change - Survey",2);try{App.wizard.init("R4CSurveyWiz","R4CSurveyNextBtn","R4CSurveyPreviousBtn",function(){App.saveR4CSurvey();b()})}catch(a){App.console.log(" Pain Level Error: "+a)}$("#R4CSurveyModal").modal({backdrop:"static",keyboard:false})};App.saveR4CSurvey=function(){App.console.log("Save R4CSurvey!");var a=App.getComponent("functionalScore");inForm.setFormId("R4CSurvey-form");var b=inForm.getFormJSON();try{$.ajax({type:"GET",url:App.config.services.r4CSurvey.url,async:false,data:b,contentType:"application/json",success:function(d){App.console.log(" Response: "+d,5);var e=d.split(",");App.console.log(" R4CSurvey resulting Functional Score: "+e,3);App.user.R4CSurvey.scores.push(e)},error:function(d){App.console.log(" > Ajax Error when invoking R4CSurvey: "+d.message)}})}catch(c){App.console.log(" > Save R4CSurvey Error: "+c)}$("#R4CSurveyModal").modal("hide");App.console.log("Close R4CSurvey!\n****************",2)};App.checkUserFlow=function(){App.console.log("Check for User Flow > Start");if(App.config.userFlows){var e=App.config.userFlows;var j=App.config.userFlows.length;var g=timeline.getDaysSinceStart();App.console.log(" > Today: "+g+"; User Flows: "+j);for(var c=0;c<j;c++){try{var a=e[c];App.console.log(" > User Flow: On Day: "+a.trigger.onDay+"; Day: "+a.trigger.day);var b=[];var i=false;var d="";if(a.trigger.property!=undefined){d=a.trigger.property;i=true}App.console.log(" > > User Flow: Properties: "+d,4);if(i){App.console.log(" > > User Flow: Properties: ",4);App.console.log(" > > Check Property > "+a.trigger.property.toString(),4);App.console.log(" > > > Value > "+a.trigger.value,4)}if(a.trigger.onDay){App.console.log(" > > "+g+"="+a.trigger.day);if(g>=a.trigger.day&&i){if(a.trigger.property==a.trigger.value){if(g>a.trigger.day&&i){App.console.log(" > > User missed the userflow for day "+a.trigger.day+" so re-engaging user to complete flow until complete. ",3)}App.console.log(" > > > ************** > ",4);App.console.log(" > > > Initiate Flow!",4);App.console.log(" > > > ************** > ",4);App.flow.init(a.flow);App.console.log(" > Found, initiate User Flow",4);break}}else{if(g==a.trigger.day){App.console.log(" > > > **************",4);App.console.log(" > > > Initiate Flow!",4);App.console.log(" > > > **************",4);App.flow.init(a.flow);App.console.log(" > Found, initiate User Flow",4);break}}}else{if(i){if(a.trigger.property==a.trigger.value){App.console.log(a.trigger.property+" = "+a.trigger.value);App.console.log(" > > > **************",4);App.console.log(" > > > Initiate Flow!",4);App.console.log(" > > > **************",4);App.flow.init(a.flow);break}}}}catch(h){App.console.log(h)}}App.console.log("Check for User Flow > Done",2)}else{App.console.log("Not checking for User Flows > Not configured.",2)}};App.flow={flows:{},flowlength:0,currentItem:0,next:function(a){App.console.log(" > Flow Next >  ",2);a.call(function(){App.flow.currentItem++;if(App.flow.currentItem<=App.flow.flowlength){if(App.flow.flows[App.flow.currentItem]){App.flow.next(App.flow.flows[App.flow.currentItem])}}})},init:function(a){App.flow.flows=a;App.flow.flowlength=App.flow.flows.length;App.flow.currentItem=0;App.flow.next(App.flow.flows[App.flow.currentItem])}};App.openTip=function(a,b){App.console.log(" Open Tip: First Time User Message welcome screen.",3);if(App.user.startDate=new Date()){$("#"+a).modal({backdrop:"static",keyboard:false})}};App.openTip1=function(a){App.console.log(" Open Tip: 1",2);$("#Tip1").modal({backdrop:"static",keyboard:false});$("#Tip1").on("hidden.bs.modal",function(b){App.console.log(" Closing Tip1.",3);a()})};App.openTip2=function(a){App.console.log(" Open Tip: 2",2);$("#Tip2").modal({backdrop:"static",keyboard:false});$("#Tip2").on("hidden.bs.modal",function(b){App.console.log(" Closing Tip2.",3);a()})};App.openTip3=function(a){App.console.log(" Open Tip: 3",2);$("#Tip3").modal({backdrop:"static",keyboard:false});$("#Tip3").on("hidden.bs.modal",function(b){App.console.log(" Closing Tip3.",3);a()})};App.timeline=function(){timeline=new WeeklyTimeline();App.timeline=timeline;App.timeline.init();setTimeout(function(){App.timeline.setActivities(App.user.activities)},2200)};App.preference=function(b,c){var d="TelespinePrefs";var a={components:["weeklyTimeline:0","goalsAndStatistics:0","painMeter:0","functionalScore:0","onlineCoaching:0","messages:0","today:0"],theme:"default",configuration:{resetPassword:true,Oswestery:{load:true},lastPainLevel:5,notifiedOn:(new Date()).toString(),painLevelLastSet:(new Date()).toString(),theme:"default"}};if(!c){}else{if(c.toLowerCase()=="delete"){}else{}}};App.setStats=function(c){App.console.log(" App.setStats()");try{var d=Math.round(App.user.stats.goals[0]/App.user.stats.goals[1]*100);$("#MyLogins").html(App.user.stats.logins);$("#GoalsInterface").fadeOut();$("#GoalsInterface").html('<i class="fa fa-thumbs-up"></i><span class="plus">+</span><span class="percent">%</span><input id="MyGoals" type="text" value="'+d+'" class="circleChart" />');$("#GoalsInterface").fadeIn()}catch(a){console.log(a)}try{$(".circleChart").each(function(){var e=$(this).parent().css("color");$(this).knob({min:0,max:100,readOnly:true,width:120,height:120,fgColor:e,dynamicDraw:true,thickness:0.2,tickColorizeValues:true,skin:"tron"})})}catch(b){}try{App.console.log(" Setting click events to Goals",3);$(".goal-actions > a").unbind("click");$(".goal-actions > a").click(function(f){App.console.log("Goal Click");App.updateGoal(f);return false})}catch(b){App.console.log(b)}};App.setPainLevel=function(){App.console.log("function :: setPainLevel");var a=$(".pain-level-control").html();$.ajax({type:"GET",data:{painLevel:a},url:App.config.services.updatePainLevel.url,async:false,contentType:"application/text",success:function(f){App.console.log(" > > Update Pain Response: "+f);$.gritter.add({title:"Pain Level Updated!",text:"Thank you! You have added a status update to your pain level. You set it to: "+a+" out of 10.",class_name:"my-sticky-class"});var h=App.getComponent("painMeter");App.user.pain.history.push(a);App.user.pain.lastSet=new Date();$("#pailControl").hide();$(".pain-bubble").slideDown(300);var e="#e4d700";if(parseInt(a)>6){e="#ff5454"}else{if(parseInt(a)<4){e="#78cd51"}}$(".pain-bubble").css("background-color",e);try{$("#painLevelGraph").html('<div id="pain-graph" class="chart red" style="width:100%">'+App.user.pain.history.toString()+"</div>");var d=$("#painLevelGraph").css("color");var g=$.range_map({"3":"green","4:6":"yellow","7:":"red"});$("#painLevelGraph > .chart").each(function(){$(this).sparkline("html",{width:"160%",height:70,lineColor:"red",colorMap:g,fillColor:false,spotColor:false,maxSpotColor:false,minSpotColor:false,spotRadius:4,lineWidth:4})});if(jQuery.browser.mozilla){$("#painLevelGraph").css("MozTransform","scale(0.5,0.5)");$("#painLevelGraph").css("height","40px;").css("margin","-20px 0px -20px -25%")}else{$("#painLevelGraph").css("zoom",0.6)}}catch(b){alert(b)}},error:function(e,c,f){App.console.log(" > > Ajax Error: "+e+"; "+c+"; "+f)}})};App.setPainLevelGraph=function(c){App.console.log("callback :: setPainLevelGraph()");try{var a=App.user.pain.history[App.user.pain.history.length];if(!a){a=5}var d=$.range_map({"3":"green","4:6":"yellow","7:":"red"});$("#pain-graph").html(App.user.pain.history.toString());$(".pain-level-control").html(a);$("#pain-level").slider({range:"min",value:a,min:0,max:10,slide:function(e,i){$(".pain-level-control").html(i.value)}});var f=new Date(Date.parse(App.user.pain.lastSet));var h=daysBetween(f,new Date());if(h<=1){$("#pailControl").hide();$(".pain-bubble").slideDown(300);var b="#e4d700";if(parseInt(a)>6){b="#ff5454"}else{if(parseInt(a)<4){b="#78cd51"}}$(".pain-bubble").css("background-color",b)}}catch(g){App.console.log(" Error setPainLevelGraph : "+g)}};App.setFunctionalScore=function(a){App.console.log("callback :: setFunctionalScore()");try{var c=App.user.oswestery.scores.length-1;$("#currentFunctionalScore").html(App.user.oswestery.scores[c][0]+"%");$("#currectPain").html((App.user.oswestery.scores[c][1]/10)+"/10");for(var b=0;b<4;b++){this.setScore(a,b)}}catch(d){App.console.log(" Error setFunctionalScore : "+d)}};App.setScore=function(a,c){App.console.log(" > setScore(component, Oswestery)");try{var d=App.user.oswestery.scores[c];$(".f-score-"+(c+1)).animate({top:(100-d[0])+"%"},2500,"easeInOutBack");$(".f-score-"+(c+1)).html(d[0]+"%");$(".p-score-"+(c+1)).animate({top:(100-d[1])+"%"},2500,"easeInOutBack");$(".p-score-"+(c+1)).html(d[1]+"%");App.console.log(" > > Functional Score from Oswestery "+(c+1)+": "+(100-d[0]));App.console.log(" > > Pain Score from Oswestery "+(c+1)+": "+(100-d[1]))}catch(b){App.console.log("Expected Exception: "+b+" (This is expected because it is not yet set)");$(".f-bar-"+(c+1)).html("Pending")}};App.updateGoal=function(c){App.console.log("App.updateGoal > "+$(c.currentTarget).attr("id"),2);var b="";var d="";var h=App.getComponent("goalsAndStatistics");var g=c.currentTarget;try{App.console.log(" > App.updateGoal > DOM Reference: "+g,5)}catch(f){console.log(f)}try{if($(c.currentTarget).find("i").attr("class")=="fa fa-square-o"){$(c.currentTarget).find("i").removeClass("fa-square-o").addClass("fa-check-square-o");$(c.currentTarget).parent().parent().find("span").css({opacity:0.45});$(c.currentTarget).parent().parent().find(".desc").css("text-decoration","line-through");App.console.log(" > > Set Status Action to Complete",3);App.user.stats.goals[0]+=1}else{$(c.currentTarget).find("i").removeClass("fa-check-square-o").addClass("fa-square-o");$(c.currentTarget).parent().parent().find("span").css({opacity:1});$(c.currentTarget).parent().parent().find(".desc").css("text-decoration","none");App.console.log(" > > Set Status Action to Active.",3);App.user.stats.goals[0]-=1}}catch(a){console.log(a)}$.ajax({type:"GET",data:{status:b,id:d},url:App.config.services.updateGoal.url,async:false,contentType:"application/text",success:function(e){App.console.log(" > > Update Goal Response: "+e,3)},error:function(i,e,j){App.console.log(" > > Ajax Error: "+i+"; "+e+"; "+j)}});App.setStats(h);return false};App.addGoal=function(){App.console.log("App.addGoal()",2);if($("#AddGoal").val().length>0){var b=App.getComponent("goalsAndStatistics");var a=$("#AddGoal").val();$("#AddGoal").val("");App.initServiceCall(App.addGoalsService());$("#GoalsList").html($("#GoalsList").html().replace("{value};",a))}else{$.gritter.add({title:"Add Goal - Issue",text:"We could not add the goal, it appears to be blank. Please try again.",class_name:"my-sticky-class"})}};App.addGoalsService=function(){var a=new ServiceCall("goalsAndStatistics");a.name="addGoalsService";a.url=App.config.services.addGoal.url,a.callback=function(b){$("#GoalsList").prepend(b);var c=App.getComponent(a.componentId);App.user.stats.goals[1]+=1;App.setStats(c)};return a};App.openMovie=function(b){try{var d=App.user.activities[b];App.console.log(" > > Activity: "+d,2);App.openMovieOverlay(d.label,d.media)}catch(c){App.console.log(c)}};App.openMovieOverlay=function(c,a){try{App.console.log("Video URL: "+a);$("#week-day-view").modal("hide");$("#videoName").html(c);$("#overlayVideo").attr("src",a);$("#overlayVideo").attr("title",c);$("#videoSmallName").html(c);$("#videoTime").html("loading...");$("#overlayVideo").on("timeupdate",function(d){$("#videoTime").html("Playing:&nbsp; "+getTimeLength(this.currentTime)+",&nbsp;&nbsp; <b>Duration:&nbsp; "+getTimeLength(this.duration)+"</b>")});$("#videoViewer").modal("show")}catch(b){App.console.log(b)}};App.showMessage=function(){App.console.log(" Message Center - ShowMessage()");if(App.user.notification.notifiedOn){var a=new Date(Date.parse(App.user.notification.notifiedOn));var b=App.daysBetween(a,new Date());App.console.log(" > Message > Days since last new message: "+b);if(parseInt(b)<=7){$("#messageCenterTitle").html("You have a new message!");$("#messageCenterContent").slideDown(800)}}};App.openArticle=function(b){try{App.console.log(" Open Article",2);var d=App.user.activities[b];App.console.log(" > > Activity: "+d,2);App.openArticleOverlay(d.label,d.media)}catch(c){App.console.log(c)}};App.openArticleOverlay=function(c,a){try{App.console.log(" Open Article Overlay",2);$("#week-day-view").modal("hide");$("#pdfName").html("<i class='fa fa-external-link' style='font-size:16px;font-weight:900;color:orange'></i>&nbsp; <a href='"+a+"' target='Article'>"+c+"</a>");$("#articleName").html(c);$("#articleViewer").modal("show")}catch(b){App.console.log(b)}};App.showTip=function(b){try{App.console.log(" Show Tip",2);var d=App.user.activities[b];App.console.log(" > > Activity: "+d,2)}catch(c){App.console.log(c)}};App.showNotification=function(a){$("#notificationDescription").html(a);$(".notify").slideDown(400)};App.wizard={id:"",btnPreviousId:"",btnNextId:"",maxSteps:0,previousStep:0,currentStep:0,callback:function(){},init:function(d,a,b,c){App.wizard.id=d;App.wizard.btnNextId=a;App.wizard.btnPreviousId=b;App.wizard.callback=(c)?c:function(){};$("#"+App.wizard.btnPreviousId).click(function(){App.wizard.previous()});$("#"+App.wizard.btnNextId).click(function(){App.wizard.next()});App.wizard.maxSteps=$("#"+App.wizard.id).children("div.step").length;App.console.log("How many steps in this Wizard? "+App.wizard.maxSteps,3);$("#"+App.wizard.id).before("<div id='WizardSteps' class='OswesteryWizard'></div>");$("#"+App.wizard.id).parent().css("overflow","hidden");$("#"+App.wizard.id).parent().css("min-height","200px");$("#"+App.wizard.id).children("div.step").each(function(e,f){$(this).attr("complete","false");$(this).attr("id","step-"+e);if(!$(this).attr("valid")){$(this).attr("valid","false")}$(this).css("min-height","200px");$(this).css("position","relative");$(this).addClass("dashboard-wizard-step");$(this).hide()});$("#step-"+App.wizard.currentStep).show();App.wizard.setButtonStates();if($("#step-"+App.wizard.currentStep).attr("valid")=="true"){$("#"+App.wizard.btnNextId).removeAttr("disabled")}},next:function(){App.console.log("Next >>",3);App.wizard.previousStep=App.wizard.currentStep;App.wizard.currentStep++;App.wizard.goToStep();App.wizard.setButtonStates();App.console.log("Is step valid?  "+$("#step-"+App.wizard.currentStep).attr("valid"))},previous:function(){App.console.log("<< Previous",3);App.wizard.previousStep=App.wizard.currentStep;App.wizard.currentStep--;App.wizard.goToStep();App.wizard.setButtonStates()},setButtonStates:function(){$previous=$("#"+App.wizard.btnPreviousId);$next=$("#"+App.wizard.btnNextId);if(App.wizard.currentStep>0){$("#"+App.wizard.btnPreviousId).removeAttr("disabled")}else{$("#"+App.wizard.btnPreviousId).attr("disabled","disabled")}if(App.wizard.currentStep<(App.wizard.maxSteps-1)){if($("#step-"+App.wizard.currentStep).attr("valid")=="true"){$("#"+App.wizard.btnNextId).removeAttr("disabled")}else{$("#"+App.wizard.btnNextId).attr("disabled","disabled")}}else{if(App.wizard.currentStep>(App.wizard.maxSteps-1)){$(".dashboard-wizard-step").fadeOut();$("#"+App.wizard.id).fadeOut();$("#"+App.wizard.btnNextId).html($("#"+App.wizard.btnNextId).html().replace("Finish","Next"));App.wizard.callback()}}if(App.wizard.currentStep>=(App.wizard.maxSteps-1)){App.console.log("End reached.");$("#"+App.wizard.btnNextId).html($("#"+App.wizard.btnNextId).html().replace("Next","Finish"))}else{$("#"+App.wizard.btnNextId).html($("#"+App.wizard.btnNextId).html().replace("Finish","Next"))}},goToStep:function(){App.console.log("  -Previous Step: "+App.wizard.previousStep,3);App.console.log("  -Current Step: "+App.wizard.currentStep,3);if(App.wizard.previousStep<App.wizard.currentStep){console.log("  Slide Left to the next << [ NEXT ]",3);$("#step-"+App.wizard.previousStep).animate({left:"-100%"},400,"",function(){$("#step-"+App.wizard.previousStep).hide();$("#step-"+App.wizard.currentStep).css("left","100%");$("#step-"+App.wizard.currentStep).show();$("#step-"+App.wizard.currentStep).animate({left:"0%"},600,"easeInOutBack")})}else{console.log("  Slide Right to the previus >> [ PREVIOUS ]",3);$("#step-"+App.wizard.previousStep).animate({left:"100%"},400,"",function(){$("#step-"+App.wizard.previousStep).hide();$("#step-"+App.wizard.currentStep).css("left","-100%");$("#step-"+App.wizard.currentStep).show();$("#step-"+App.wizard.currentStep).animate({left:"0%"},600,"easeInOutBack")})}if($("#step-"+App.wizard.currentStep).attr("valid")=="true"){$("#"+App.wizard.btnNextId).removeAttr("disabled")}},setAsValid:function(a){$("#step-"+App.wizard.currentStep).attr("valid",a);App.console.log(" > Step["+App.wizard.currentStep+"] Valid: "+$("#step-"+App.wizard.currentStep).attr("valid"),3);App.wizard.setButtonStates()}};String.prototype.toHHMMSS=function(){var e=parseInt(this,10);var a=Math.floor(e/3600);var b=Math.floor((e-(a*3600))/60);var d=e-(a*3600)-(b*60);if(a<10){a="0"+a}if(b<10){b="0"+b}if(d<10){d="0"+d}var c=a+":"+b+":"+d;return c};function getTimeLength(a){return a.toString().toHHMMSS()}App.formatDate=function(C,w,a){var q=["\x00","January","February","March","April","May","June","July","August","September","October","November","December"];var c=["\x01","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var b=["\x02","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var g=["\x03","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function n(f,d){var h=f+"";d=d||2;while(h.length<d){h="0"+h}return h}var k=a?C.getUTCFullYear():C.getFullYear();w=w.replace(/(^|[^\\])yyyy+/g,"$1"+k);w=w.replace(/(^|[^\\])yy/g,"$1"+k.toString().substr(2,2));w=w.replace(/(^|[^\\])y/g,"$1"+k);var i=(a?C.getUTCMonth():C.getMonth())+1;w=w.replace(/(^|[^\\])MMMM+/g,"$1"+q[0]);w=w.replace(/(^|[^\\])MMM/g,"$1"+c[0]);w=w.replace(/(^|[^\\])MM/g,"$1"+n(i));w=w.replace(/(^|[^\\])M/g,"$1"+i);var A=a?C.getUTCDate():C.getDate();w=w.replace(/(^|[^\\])dddd+/g,"$1"+b[0]);w=w.replace(/(^|[^\\])ddd/g,"$1"+g[0]);w=w.replace(/(^|[^\\])dd/g,"$1"+n(A));w=w.replace(/(^|[^\\])d/g,"$1"+A);var l=a?C.getUTCHours():C.getHours();w=w.replace(/(^|[^\\])HH+/g,"$1"+n(l));w=w.replace(/(^|[^\\])H/g,"$1"+l);var x=l>12?l-12:l==0?12:l;w=w.replace(/(^|[^\\])hh+/g,"$1"+n(x));w=w.replace(/(^|[^\\])h/g,"$1"+x);var r=a?C.getUTCMinutes():C.getMinutes();w=w.replace(/(^|[^\\])mm+/g,"$1"+n(r));w=w.replace(/(^|[^\\])m/g,"$1"+r);var p=a?C.getUTCSeconds():C.getSeconds();w=w.replace(/(^|[^\\])ss+/g,"$1"+n(p));w=w.replace(/(^|[^\\])s/g,"$1"+p);var z=a?C.getUTCMilliseconds():C.getMilliseconds();w=w.replace(/(^|[^\\])fff+/g,"$1"+n(z,3));z=Math.round(z/10);w=w.replace(/(^|[^\\])ff/g,"$1"+n(z));z=Math.round(z/10);w=w.replace(/(^|[^\\])f/g,"$1"+z);var e=l<12?"AM":"PM";w=w.replace(/(^|[^\\])TT+/g,"$1"+e);w=w.replace(/(^|[^\\])T/g,"$1"+e.charAt(0));var o=e.toLowerCase();w=w.replace(/(^|[^\\])tt+/g,"$1"+o);w=w.replace(/(^|[^\\])t/g,"$1"+o.charAt(0));var B=-C.getTimezoneOffset();var j=a||!B?"Z":B>0?"+":"-";if(!a){B=Math.abs(B);var D=Math.floor(B/60);var u=B%60;j+=n(D)+":"+n(u)}w=w.replace(/(^|[^\\])K/g,"$1"+j);var v=(a?C.getUTCDay():C.getDay())+1;w=w.replace(new RegExp(b[0],"g"),b[v]);w=w.replace(new RegExp(g[0],"g"),g[v]);w=w.replace(new RegExp(q[0],"g"),q[i]);w=w.replace(new RegExp(c[0],"g"),c[i]);w=w.replace(/\\(.)/g,"$1");return w};$.fn.scrollTo=function(c,a,d){if(typeof a=="function"&&arguments.length==2){d=a;a=c}var b=$.extend({scrollTarget:c,offsetTop:50,duration:500,easing:"swing"},a);return this.each(function(){var e=$(this);var f=(typeof b.scrollTarget=="number")?b.scrollTarget:$(b.scrollTarget);var g=(typeof f=="number")?f:f.offset().top+e.scrollTop()-parseInt(b.offsetTop);e.animate({scrollTop:g},parseInt(b.duration),b.easing,function(){if(typeof d=="function"){d.call(this)}})})};App.config.errors={};App.config.errors.getError=function(c){var a={};if(isNaN(c)){a=App.config.errors.findErrByName(c)}else{a=App.config.errors.findErrByCode(c)}var b=new Error();b.code=a.code;b.name=a.name;b.message=a.message;return b};App.config.errors.findErrByName=function(b){var d=App.config.errors.messages;var a=d.length;for(var c=0;c<a;c++){if(d[c].name.toLowerCase()==b.toLowerCase()){return d[c]}}return d[0]};App.config.errors.findErrByCode=function(b){var d=App.config.errors.messages;var a=d.length;for(var c=0;c<a;c++){if(d[c].code==b){return d[c]}}return d[0]};App.util.support.local_storage=function(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}};App.util.storage={get:function(a){if(App.util.support.local_storage){return localStorage[a]}},set:function(a,b){if(App.util.support.local_storage){localStorage[a]=b}}};App.void = function(arg){};